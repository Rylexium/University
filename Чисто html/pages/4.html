<html>
    <head>
        <title>Лаба 4</title>
        <style>
            @import url("./file.css");
        </style>
    </head>
    <body onload = "digitalWatch()">
        <p><b>Введите основание системы исчисления(не больше 36):</b><br>
        <input type = "text" id="text_input" size="40" title="Введите число от 2 до 36" onkeypress="changeBasis()" maxlength="2"></p>
        <p id = "digital_watch"></p>
        
        <script>
            let basis = 2
            function isNumber(n) {
                return !isNaN(parseInt(n));
            }
            
            function digitalWatch(){
                var date = new Date();
                var hours = date.getHours();
                var minutes = date.getMinutes();
                var seconds = date.getSeconds();
                document.getElementById("digital_watch").innerHTML = hours.toString(basis) + ":" + minutes.toString(basis) + ":" + seconds.toString(basis);
                setTimeout("digitalWatch()", 1000);
            }

            function changeBasis(){
                let input = document.getElementById("text_input")
                input.onkeypress = function(e){
                    let keyCode = e.code || e.key
                    if(keyCode == 'Enter' && input.value != "" && isNumber(input.value)){
                        basis = parseInt(input.value)
                        if(basis < 2) basis = 2
                        else if(basis > 36) basis = 36
                    }
                }
            }
        </script>
    </body>
</html>